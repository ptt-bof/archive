<html>
<head><title> #293th PTT (in Japanese)</title></head>
<body>
<h1> 第 293 回 PTT のお知らせ </h1>
<hr>
日時: 2003年10月23日 (木) 18:30 から 
<hr>
場所: 東京工業大学大岡山キャンパス西８号館Ｗ棟１０階１００８号会議室
      <a href="http://www.titech.ac.jp/access-and-campusmap/j/o-okayamaO-j.html">地図</a>を参考に、大岡山駅（東急大井町線、東急目黒線）からおいで
      下さい。駅前交差点を渡ったところがキャンパスの正門です（図の右下）。
<p>      
      開催場所は図の25番で示される建物です。これまでの開催場所
     （西７号館；23）とは異なりますのでご注意下さい。
<p>
      西８号館はふたつの建屋から構成されています。正面玄関を入ったところ
      がＥ棟で玄関奥にのびる廊下を渡ってＷ棟に行けます。開催場所はＷ棟の
      １０階の最奥にあります。
<hr>
話者: 内山雄司(東京工業大学)
<hr>
題名: インタプリタ生成系 Virtual Machine Builder の紹介
<hr>
概要：<br>
 インタプリタ自動生成システム Virtual Machine Builder (VMB) を紹介する．
VMB は，バイトコード命令の仕様を抽象的な記述として受けとり，その記述を
解析してインタプリタのコードを出力するシステムである．VMB を利用するこ
とで，移植性や保守性に優れたインタプリタをより簡単に実装できるようにな
ると考えている．今回の発表では VMB の概要について述べ，VMB を用いたイ
ンタプリタの開発例を示す．また，本研究の応用として，命令の仕様の記述を
バイトコード解析に利用することについて考察する．
<hr>
<h1> 第 293 回 PTT メモ </h1>
<hr>
日時: 2003年10月23日 (木) 18:30 から 
<hr>
場所: 東京工業大学大岡山キャンパス西８号館Ｗ棟１０階１００８号会議室
<hr>
出席者: 笹田耕一(農工大)，首藤一幸(産総研)，伊知地宏(ラムダ数学教育研)，
        鷹岡良治，脇田建(東工大)，酒井政裕(慶應大)，三浦明平，崔哲浩，
        佐々木直志，花田智洋，多田好克，鈴木信吾(電通大)，
        石畑清(明大)，田中哲朗(東大)
<hr>
題目: インタプリタ生成系 Virtual Machine Builder の紹介
<hr>
話者: 内山雄司(東京工業大学)
<hr>
概  要：
<p>
インタプリタ自動生成システム Virtual Machine Builder (VMB) を紹介する．
VMB は，バイトコード命令の仕様を抽象的な記述として受けとり，その記述を
解析してインタプリタのコードを出力するシステムである．VMB を利用するこ
とで，移植性や保守性に優れたインタプリタをより簡単に実装できるようにな
ると考えている．今回の発表では VMB の概要について述べ，VMB を用いたイ
ンタプリタの開発例を示す．また，本研究の応用として，命令の仕様の記述を
バイトコード解析に利用することについて考察する．
<hr>
質疑応答:
<dl>
<dt> Q. 
<dd> 言語機能としての例外処理などは記述できるのか．
<dt> A.
<dd> できる．O'Caml にも例外処理機構はあって，それは記述できている．
<hr>
<dt>Q.
<dd> スレッドは記述できるのか．
<dt>A.
<dd> 今は何も考えていない．
<hr>
<dt>Q.
<dd> 多相型を扱う命令は記述できるのか．
<dt>A.
<dd> 型情報がオブジェクトに埋め込まれているのであれば，条件分岐を使って
   記述できる．
<hr>
<dt>Q.
<dd> float が扱えないために書けない命令が 2 つというのは，少なくないか．
<dt>A.
<dd> O'Caml では float 演算は全て C の関数を呼んでインタプリタの外側で処
   理しているため．
<hr>
<dt>Q.
<dd> 演算の際に int に変換するのではなく，O'Caml の型の上での演算をユー
   ザが定義して，それを使えばよいのではないか．
<dt>A.
<dd> そうしたいと考えている．
<hr>
<dt>Q.
<dd> (前質問への回答に対して) そういう事をすると，仕様記述の利点と言って
   いたものがほとんど失われてしまうのではないか．
<dt>A.
<dd> ユーザ定義の演算が算術演算としてのセマンティクスを満たしている事を
   仮定して解析するとか．．．(まだ深く考えてはいない)
<hr>
<dt>Q.
<dd> (オリジナルのインタプリタとの性能比較に関して) VMB はスタック溢れの
   チェックなどをしていないが，比較はフェアになっているのか．
<dt>A.
<dd> フェアな比較になるように，VMB が生成したものとオリジナルの実装とを
   見比べて，スタック溢れ検査のコードなどはオリジナルと同等になるよう
   に手で挿入している．
<hr>
<dt>Q.
<dd> 性能差の原因として挙げられているものは，実行環境やアセンブリ命令の
   並び方に依存する話なのでは．
<dt>A.
<dd> そう思う．
<hr>
<dt>Q.
<dd> O'Caml の他には何か書けるのか．
<dt>A.
<dd> BIT という，scheme の処理系を書こうと試みた．BIT はオブジェクトの表
   現にリストを用いており，VMB ではループを表現できないので，あまりう
   まくいかなかった．
<hr>
<dt>Q.
<dd> 列の表現で [v] の代わりに V(1) と書いても同じなのか
<dt>A.
<dd> [v] を代入するだけの操作なら同じだが，[v] と書くことで，後状態とし
   て [v + x] というような演算に利用できる．
<hr>
<dt>Q.
<dd> 後状態の方に S(n) ではなく単に S と記述するのは，書かなくても S(n)
   に決まっているという理由か．
<dt>A.
<dd> そうです．
<hr>
<dt>Q.
<dd> 直列化は，全部退避してしまって C コンパイラに任せるのでもよいのでは．
<dt>A.
<dd> 要素数が静的に決まらない列を退避するためにはメモリアロケーションが
   必要になるので，効率が悪い場合がある．また，そうやってメモリに退避
   してしまうと C コンパイラでの最適化は難しい．
</dl>

</body>
</html>

